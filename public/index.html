<!DOCTYPE html>
<html lang="en">
  <head>
    <!--[if IE]>
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <![endif]-->
    <meta charset="utf-8" />
    <title>doge Gallery</title>
    <meta
      name="description"
      content="blueimp Gallery is a touch-enabled, responsive and customizable image and video gallery, carousel and lightbox, optimized for both mobile and desktop web browsers. It features swipe, mouse and keyboard navigation, transition effects, slideshow functionality, fullscreen support and on-demand content loading and can be extended to display additional content types."
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/blueimp-gallery.css" />
    <link rel="stylesheet" href="css/blueimp-gallery-indicator.css" />
    <link rel="stylesheet" href="css/demo/demo.css" />
  </head>
  <body>
    <h2>doge image gallery</h2>
    <!-- The container for the list of example images -->
    <div id="links" class="links"></div>
    <!-- The Gallery as lightbox dialog -->
    <div id="blueimp-gallery" class="blueimp-gallery">
      <div class="slides"></div>
      <h3 class="title"></h3>
      <a class="prev">‹</a>
      <a class="next">›</a>
      <a class="close">×</a>
      <a class="play-pause"></a>
      <ol class="indicator"></ol>
    </div>
    <script src="js/vendor/jquery.min.js"></script>
    <script src="js/vendor/lodash.min.js"></script>
    <script src="js/vendor/axios.min.js"></script>
    <script src="js/blueimp-helper.js"></script>
    <script src="js/blueimp-gallery.js"></script>
    <script src="js/blueimp-gallery-fullscreen.js"></script>
    <script src="js/blueimp-gallery-indicator.js"></script>
    <script src="js/jquery.blueimp-gallery.js"></script>
    <script>
      $(async () => {
        const { data } = await axios.get('http://hidoge.cn:9072/images?_sort=createdAt&_order=desc')
        const linksContainer = $('#links')
        _.forEach(data, (i) => {
          $('<a/>')
              .append($('<img>').prop('src', `http://hidoge.cn:9071/image/${i.fileName}`))
              .prop('href', `http://hidoge.cn:9071/image/${i.fileName}`)
              .prop('title', i.id)
              .attr('data-gallery', '')
              .appendTo(linksContainer)
        })
      })
    </script>
  </body>
</html>
